<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Accueil</title>
<link rel="stylesheet" th:href="@{/css/style.css}" />
<link rel="stylesheet" th:href="@{/css/profile.css}" />
</head>

<body>
	<nav th:replace="~{fragments/fragment-entete::entete}"></nav>

	<h1>Welcome</h1>

	<!-- 	<form action="@{/encheres}" method="get" th:object="${filtre}">
	 <label for="categorie">Choisir une catégorie :</label>
	
        <select name="category" id="category" onchange="this.form.submit()">
            <option th:each="cat : ${categories}" 
                    th:value="${cat}" 
                    th:text="${cat}" 
                    th:selected="${cat == selectedCategory}"></option>
        </select>
    </form> -->
	<form th:action="@{/filtrer}" method="GET">
	    <!-- Champ de recherche -->
    <label for="motCle">Mot-clé :</label>
    <input type="text" id="motCle" name="motCle" placeholder="Le nom de l'article contient..." />
		<select name="idCat" id="category">
			<option value="" disabled selected>Choisir une catégorie</option>
			<option th:each="cat : ${categories}" th:value="${cat.noCategorie}"
				th:text="${cat.libelle}"></option>
		</select>
		<button type="submit">Rechercher</button>
	</form>

	<table th:if="${articles != null and articles.size() > 0}">
		<!-- entête -->
		<thead>
			<th>Article</th>
			<th>Prix actuel</th>
			<th>Se termine</th>
			<th>Vendeur</th>
			<th>Ville de retrait</th>
			<th>Voir plus</th>
		</thead>
		<tr th:each="e : ${articles}">
			<td th:text="${e.nomArticle}"></td>
			<td th:text="${e.prixVente}"></td>
			<td th:text="${e.dateFinEncheres}"></td>
			<td th:text="${e.vendeur.pseudo}"></td>
			<td th:text="${e.lieuRetrait.ville}"></td>
			<td><a th:href="@{/article-detail(noArticle=${e.noArticle})}">Détails</a></td>
		</tr>
	</table>


	<!-- <div>
	Liste des enchères (encours) via une liste encheres ou article vendu ?
	</div>-->

	<footer th:replace="~{fragments/fragment-piedpage::piedpage}"></footer>
</body>

</html>